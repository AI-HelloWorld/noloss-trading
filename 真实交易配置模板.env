# ====================================================
# AI加密货币交易平台 - 真实交易配置模板
# ====================================================
# 
# 📝 使用说明：
# 1. 复制此文件内容到 .env 文件
# 2. 填写所有必需的配置项（标记为[必需]的）
# 3. 保存文件
# 4. 重启后端服务
#
# ⚠️ 安全提醒：
# - 不要分享此文件给他人
# - 不要上传到GitHub等公开平台
# - API Secret只会显示一次，请妥善保存
#
# ====================================================

# ====================================================
# 🔑 AsterDEX API配置（真实交易必需 - 以太坊签名方式）
# ====================================================
# 
# 📖 配置说明：AsterDEX使用以太坊签名认证方式
# 获取地址：https://www.asterdex.com/api-wallet
# 
# 需要配置3个参数：
#   1. WALLET_ADDRESS = 主钱包地址（user）
#   2. ASTER_DEX_API_KEY = Signer地址（从API Wallet页面生成）
#   3. ASTER_DEX_API_SECRET = 私钥（从API Wallet页面生成）
# ====================================================

# 主钱包地址 [必需]
# 你的主钱包地址（user）
# 示例：0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb
WALLET_ADDRESS=

# Signer地址 [必需]
# 从 https://www.asterdex.com/api-wallet 生成
# 这是一个以太坊地址，用于签名API请求
# 示例：0x123abc456def789ghi012jkl345mno678pqr901stu
ASTER_DEX_API_KEY=

# 私钥 [必需]
# 从 https://www.asterdex.com/api-wallet 生成
# Signer地址对应的私钥，用于生成以太坊签名
# ⚠️ 重要：这是Signer的私钥，不是你的主钱包私钥！
# 示例：0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890
ASTER_DEX_API_SECRET=

# 💡 如何获取这些配置：
# 1. 访问 https://www.asterdex.com/api-wallet
# 2. 输入你的主钱包地址（WALLET_ADDRESS）
# 3. 点击"生成API Wallet"
# 4. 系统会生成：
#    - Signer地址（ASTER_DEX_API_KEY）
#    - 私钥（ASTER_DEX_API_SECRET）
# 5. 复制这两个值，粘贴到上面对应的位置
# 6. ⚠️ 私钥只显示一次，请妥善保存！

# ====================================================
# 📖 重要说明
# ====================================================
# 
# AsterDEX使用以太坊签名认证，而不是传统的API Key/Secret
# 
# 认证流程：
#   1. 系统使用私钥对请求参数进行以太坊签名
#   2. 请求中包含：user（主钱包）、signer（API钱包）、signature（签名）
#   3. AsterDEX验证签名后允许访问
# 
# 安全性：
#   - 私钥存储在本地，不会发送到服务器
#   - 只有签名结果会发送到AsterDEX
#   - Signer钱包权限可以在API Wallet页面管理
# 
# ====================================================

# 注意：
# - 必须先在AsterDEX后台授权此钱包地址
# - 未授权的钱包地址无法通过API交易
# - 每个账户最多可授权30个API钱包

# 初始交易资金（美元）[必需]
# 建议：首次测试$100-$500，正式交易$1,000+
# 注意：不超过您钱包中的实际USDT余额
INITIAL_BALANCE=500.0

# ====================================================
# 🤖 AI模型API配置
# ====================================================

# DeepSeek API（主力AI模型）[必需]
# 获取：https://platform.deepseek.com/api_keys
# 用途：技术分析、基本面分析、风险管理、投资组合决策等
DEEPSEEK_API_KEY=sk-

# 千问API（备用技术分析）[可选]
# 获取：https://dashscope.aliyuncs.com/
QWEN_API_KEY=

# ====================================================
# 🛡️ 风控配置 - 防爆仓保护
# ====================================================

# 单笔交易最多使用钱包余额的百分比
# 0.3 = 30%（保守）, 0.5 = 50%（平衡）, 0.7 = 70%（激进）
# 建议：首次交易设置为0.3
MAX_WALLET_USAGE=0.5

# 合约交易保证金预留比例
# 0.2 = 只用20%余额，留80%保证金（极度保守）
# 0.3 = 只用30%余额，留70%保证金（保守，推荐）
# 0.5 = 只用50%余额，留50%保证金（平衡）
MARGIN_RESERVE_RATIO=0.3

# AI建议的最大单笔仓位（占总资产的百分比）
# 0.05 = 5%（保守）, 0.1 = 10%（平衡）, 0.15 = 15%（激进）
MAX_POSITION_SIZE=0.1

# 风险阈值（0-1）
# AI风险评分超过此值会拒绝交易
# 0.6（保守）, 0.7（平衡）, 0.8（激进）
RISK_THRESHOLD=0.7

# 最低置信度要求（0-1）
# AI置信度低于此值不执行交易
# 0.7（保守）, 0.6（平衡）, 0.5（激进）
CONFIDENCE_THRESHOLD=0.6

# 每笔交易风险比例（占总资产）
RISK_PER_TRADE=0.02

# ====================================================
# ⚙️ 交易配置
# ====================================================

# 是否启用自动交易
# true = 自动交易, false = 只分析不交易
ENABLE_AUTO_TRADING=true

# 交易检查间隔（秒）- 更频繁的AI分析
# 60 = 1分钟（实时）, 120 = 2分钟, 300 = 5分钟
TRADE_CHECK_INTERVAL=60

# 市场数据更新间隔（秒）- 实时行情
# 10 = 10秒（实时）, 30 = 30秒, 60 = 1分钟
# ⚠️ 设置太小可能触发API限制，建议10-30秒
DATA_UPDATE_INTERVAL=10

# WebSocket数据推送间隔（秒）
# 3 = 3秒, 5 = 5秒, 10 = 10秒
BROADCAST_INTERVAL=3

# 最大并发交易数
# 同时持有的最大仓位数量
MAX_CONCURRENT_TRADES=3

# ====================================================
# 🗄️ 数据库配置
# ====================================================

# 数据库URL
# SQLite（默认）：sqlite+aiosqlite:///./trading_platform.db
# PostgreSQL（生产）：postgresql+asyncpg://user:pass@localhost/dbname
DATABASE_URL=sqlite+aiosqlite:///./trading_platform.db

# ====================================================
# 🌐 应用配置
# ====================================================

# 应用监听地址
APP_HOST=0.0.0.0

# 应用端口
APP_PORT=8001

# 调试模式（生产环境设为false）
DEBUG_MODE=false

# 日志级别
# DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ====================================================
# 🔔 告警配置（未来功能）
# ====================================================

# 邮件告警（可选）
# ALERT_EMAIL=your_email@example.com

# 告警阈值
# 单日亏损超过此金额发送告警
# DAILY_LOSS_ALERT=100.0

# 总亏损超过此百分比发送告警
# TOTAL_LOSS_ALERT_PERCENTAGE=10.0

# ====================================================
# 📊 交易策略配置（高级）
# ====================================================

# 止损百分比（从成本价计算）
# 0.05 = 5%止损
# STOP_LOSS_PERCENTAGE=0.05

# 止盈百分比（从成本价计算）
# 0.1 = 10%止盈
# TAKE_PROFIT_PERCENTAGE=0.1

# 最大持仓时间（小时）
# 超过此时间强制平仓
# MAX_POSITION_HOURS=24

# ====================================================
# 📝 配置完成检查清单
# ====================================================
#
# 必需配置：
# [ ] ASTER_DEX_API_KEY - 已填写
# [ ] ASTER_DEX_API_SECRET - 已填写
# [ ] DEEPSEEK_API_KEY - 已填写
# [ ] INITIAL_BALANCE - 已设置
# [ ] 风险参数 - 已确认
#
# 安全检查：
# [ ] API权限只包含交易，不含提现
# [ ] 使用可承受损失的资金
# [ ] 已理解交易风险
# [ ] 准备监控系统运行
#
# 下一步：
# 1. 保存此文件为 .env
# 2. 重启后端服务
# 3. 查看日志确认连接成功
# 4. 开始监控AI交易
#
# ====================================================

